function easyuiAjaxUrl(url,id){$.ajax({type:"POST",url:url,data:"json=1&is_ajax=1",dataType:'json',beforeSend:function(){$.messager.progress({title:js_lang_ajax_before_title,msg:'<p style="text-align:center"><img src="'+basepath+'images/loading.gif" alt="'+js_lang_ajax_before_msg+'"></p><p>'+js_lang_ajax_before_msg+'</p>',text:''})},complete:function(){$.messager.progress('close')},success:function callBack(data){if(data){if(data.msg){if(data.msg_list){var rowCount=data.msg_list.length;if(rowCount>0){var msg_list='';for(var i=0;i<rowCount;i++){msg_list+=data.msg_list[i].msg+"<br />"}}else{var msg_list=data.msg}}else{var msg_list=data.msg}$.messager.alert(js_lang_tipmsg_tit,msg_list,'info')}else{$.messager.alert(js_lang_error,js_lang_back_error,'error')}}else{$.messager.alert(js_lang_error,js_lang_no_back,'error')}},error:function(){$.messager.alert(js_lang_error,js_lang_ajax_error,'error')}})}function boxAjaxUrl(url,id){var before_msg='<p style="text-align:center"><img src="'+basepath+'images/loading.gif" alt="'+js_lang_ajax_before_msg+'"></p><p>'+js_lang_ajax_before_msg+'</p>';var box=new Boxy(before_msg,{closeable:false,title:null,unloadOnHide:true,show:false});$.ajax({type:"POST",url:url,data:"json=1",dataType:'json',beforeSend:function(){box.show()},complete:function(){box.hide()},success:function callBack(data){if(data){if(data.msg){if(id){$('#'+id).html(data.msg)}else{if(data.msg_list){var rowCount=data.msg_list.length;if(rowCount>0){var msg=data.msg;for(var i=0;i<rowCount;i++){msg+="<br />"+data.msg_list[i].msg}Boxy.alert(msg)}else{Boxy.alert(data.msg)}}else{Boxy.alert(data.msg)}}}else{Boxy.alert(js_lang_error)}}else{Boxy.alert(js_lang_no_back)}},error:function(){Boxy.alert(js_lang_error)}})}function ajax_url(url,id){$.ajax({type:"GET",url:url,data:"is_ajax=1",dataType:'json',success:function callBack(data){if(data){if(data.msg){if(id){$('#'+id).html(data.msg)}}}}})}function ajax_info(url,id){$.ajax({type:"GET",url:url,data:"is_ajax=1",dataType:'json',success:function callBack(data){if(data){if(data.msg){if($('#'+id).length>0){$('#'+id).html(data.msg)}}else{if($('#'+id).length>0){$('#'+id).html(js_lang_error)}}}else{if($('#'+id).length>0){$('#'+id).html(js_lang_no_back)}}},error:function(){if($('#'+id).length>0){$('#'+id).html(js_lang_ajax_error)}}})}function delConfirm(url){if(js_lang_confirm_delete!=''&&url!=''){if(confirm(js_lang_confirm_delete)){location.href=url}}}function DrawImage(ImgD,maxWidth,maxHeight){var image=new Image();var iwidth=maxWidth;var iheight=maxHeight;image.src=ImgD.src;ImgD.alt=image.width+"×"+image.height;if((image.width>0)&&(image.height>0)){if((image.width/image.height)>=(iwidth/iheight)){if(image.width>iwidth){ImgD.width=iwidth;ImgD.height=(image.height*iwidth)/image.width}else{ImgD.width=image.width;ImgD.height=image.height}}else{if(image.height>iheight){ImgD.height=iheight;ImgD.width=(image.width*iheight)/image.height}else{ImgD.width=image.width;ImgD.height=image.height}}}if(ImgD.height<maxHeight){ImgD.style.top=(maxHeight-ImgD.height)/2+"px"}if(ImgD.width<maxWidth){ImgD.style.left=(maxWidth-ImgD.width)/2+"px"}}function AddFavorite(sURL,sTitle){try{window.external.addFavorite(sURL,sTitle)}catch(e){try{window.sidebar.addPanel(sTitle,sURL,"")}catch(e){alert("加入收藏失败，请使用Ctrl+D进行添加")}}}function SetHome(obj,vrl){try{obj.style.behavior='url(#default#homepage)';obj.setHomePage(vrl)}catch(e){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(e){alert("此操作被浏览器拒绝！\n请手动设置。")}var prefs=Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces.nsIPrefBranch);prefs.setCharPref('browser.startup.homepage',vrl)}}}